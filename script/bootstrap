#!/bin/bash
###############################################################################
# Copyright (C) Intel Corporation
#
# SPDX-License-Identifier: MIT
###############################################################################
## start of boilerplate to switch to project root ------------------------------
script_dir="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
proj_dir="$( dirname "${script_dir}" )"
cd ${proj_dir}

## Read options -----------------------------------------------------------
export GPL_FLAG=""
export BUILD_MODE="Release"

while [ "$1" != "" ]; do
    case $1 in
        gpl )
            export GPL_FLAG="-gpl"
            ;;
        debug )
            export BUILD_MODE="Debug"
            ;;
        * )
            echo "usage: build [gpl] [debug]"
            exit 1
    esac
    shift
done

python3 script/bootstrap.py ${GPL_FLAG} -m ${BUILD_MODE}